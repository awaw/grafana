<datasource-http-settings current="ctrl.current" suggest-url="http://localhost:8086">
</datasource-http-settings>

<h3 class="page-heading">InfluxDB Details</h3>

<div class="gf-form-group">
	<div class="gf-form-inline">
		<div class="gf-form max-width-30">
			<span class="gf-form-label width-7">Database</span>
			<input type="text" class="gf-form-input" ng-model='ctrl.current.database' placeholder="" required></input>
		</div>
	</div>

	<div class="gf-form-inline">
		<div class="gf-form max-width-15">
			<span class="gf-form-label width-7">User</span>
			<input type="text" class="gf-form-input" ng-model='ctrl.current.user' placeholder=""></input>
		</div>
		<div class="gf-form max-width-15">
			<span class="gf-form-label width-7">Password</span>
			<input type="password" class="gf-form-input" ng-model='ctrl.current.password' placeholder=""></input>
		</div>
	</div>
</div>


<div class="gf-form-group">
	<div class="grafana-info-box">
		<h5>Database Access</h5>
		<p>
			Setting the database for this datasource does not deny access to other databases.  The InfluxDB query syntax allows
			switching the database in the query.  For example:
			<code>SHOW MEASUREMENTS ON _internal</code> or <code>SELECT * FROM "_internal".."database" LIMIT 10</code>
			<br/><br/>
			To support data isolation and security, make sure appropriate permissions are configured in InfluxDB.
		</p>
	</div>
</div>

<div class="gf-form-group">
	<div class="gf-form-inline">
		<div class="gf-form">
			<span class="gf-form-label">Min time interval</span>
			<input type="text" class="gf-form-input width-6" ng-model="ctrl.current.jsonData.timeInterval" spellcheck='false' placeholder="10s"></input>
			<info-popover mode="right-absolute">
				A lower limit for the auto group by time interval. Recommended to be set to write frequency,
				for example <code>1m</code> if your data is written every minute.
			</info-popover>
		</div>
	</div>
</div>

<h4 class="page-heading">Retention Policy &quot;auto&quot;</h4>

<div class="gf-form-group">
	<div class="gf-form max-width-32">
		<span class="gf-form-label width-11">Retention Policy</span>
		<input type="text" class="gf-form-input width-20" ng-model="ctrl.current.jsonData.retentionPolicy" spellcheck='false' placeholder="sample5m;sample1h;sample1d"></input>
		<i class="fa fa-question-circle" bs-tooltip="'Retention policies (delimited by semicolons)'" data-placement="right"></i>
	</div>
	<div class="gf-form max-width-32">
		<span class="gf-form-label width-11">Before Timestamp</span>
		<input type="text" class="gf-form-input width-20" ng-model="ctrl.current.jsonData.retentionBefore" spellcheck='false' placeholder="86400;2592000;31536000"></input>
		<i class="fa fa-question-circle" bs-tooltip="'Before which timestamp to use above retention polices (in seconds, delimited by semicolons)'" data-placement="right"></i>
	</div>
	<div class="gf-form max-width-32">
		<span class="gf-form-label width-11">Minimum Interval</span>
		<input type="text" class="gf-form-input width-20" ng-model="ctrl.current.jsonData.retentionInterval" spellcheck='false' placeholder="30s;5m;1h"></input>
		<i class="fa fa-question-circle" bs-tooltip="'Mimimum group by time interval to use with above policies (delimited by semicolons)'" data-placement="right"></i>
	</div>
</div>
